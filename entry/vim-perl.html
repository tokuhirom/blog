<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>tokuhirom&#39;s blog</title>
<link rel="stylesheet/less" type="text/css" href="../less/bootstrap.less">
<link rel="stylesheet/less" type="text/css" href="../less/blog.less">
<link rel="stylesheet" type="text/css" href="../google-code-prettify/prettify.css">
<script src="../js/less-1.1.4.min.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
<script src="../google-code-prettify/prettify.js" type="text/javascript"></script>
<script>
    $(function() {
        prettyPrint();
    });
</script>
<!--[if IE]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link href='http://fonts.googleapis.com/css?family=Poller+One' rel='stylesheet' type='text/css'>
</head>
<body>
<div class="container-fluid">
    <header>
        <h1>tokuhirom&#39;s blog</h1>
    </header>
    <div class="sidebar">
        <ul>
            <li><a href="https://metacpan.org/author/TOKUHIROM">cpan</a></li>
            <li><a href="https://github.com/tokuhirom/">giithub</a></li>
        </ul>
        <address class="vcard author">
            <a href="http://64p.org/" class="fn">tokuhirom</a>
        </address>
    </div>
    <div class="content hfeed">
        

    <section class="entry clearfix hentry">
    <h1 class="entry-title"><a href="../entry/vim-perl.html">Perl5 module templating with Perl5
</a></h1>
    <div class="entry-content"><p>なんかこんなのかいた。</p>
<pre class="prettyprint">function! s:pm_template()
    let path = substitute(expand(&#39;%&#39;), &#39;.*lib/&#39;, &#39;&#39;, &#39;g&#39;)
    let path = substitute(path, &#39;[\\/]&#39;, &#39;::&#39;, &#39;g&#39;)
    let path = substitute(path, &#39;\.pm$&#39;, &#39;&#39;, &#39;g&#39;)

    call append(0, &#39;package &#39; . path . &#39;;&#39;)
    call append(1, &#39;use strict;&#39;)
    call append(2, &#39;use warnings;&#39;)
    call append(3, &#39;use utf8;&#39;)
    call append(4, &#39;&#39;)
    call append(5, &#39;&#39;)
    call append(6, &#39;&#39;)
    call append(7, &#39;1;&#39;)
    call cursor(6, 0)
    echomsg path
endfunction
autocmd BufNewFile *.pm call s:pm_template()</pre><p>とても便利なのだけど、もっとうまくかける方法または既存のソリューションがある気がしてならない僕なのです。</p>
</div>
    <span class="updated mtime"><a class="bookmark" rel="bookmark" href="../entry/vim-perl.html">2011-10-25(Tue) 08:11</a></span>
</section>



    </div>
</div>
</body>
</html>
